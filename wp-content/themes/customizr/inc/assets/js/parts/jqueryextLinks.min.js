!function(a,b,c,d){function e(b,c){this.$_el=a(b),this.options=a.extend({},g,c),this._href=a.trim(this.$_el.attr("href")),this.init()}var f="extLinks",g={addIcon:!0,newTab:!0,skipSelectors:{classes:[],ids:[]},skipChildTags:["IMG"]};e.prototype.init=function(){var a=this.$_el.next(".tc-external");return this._is_eligible()?(this.options.addIcon&&0===a.length&&this.$_el.after('<span class="tc-external">'),void(this.options.newTab&&"_blank"!=this.$_el.attr("target")&&this.$_el.attr("target","_blank"))):void(a.length&&a.remove())},e.prototype._is_eligible=function(){var b=this;if(this._is_external(this._href)&&this._is_first_child_tag_allowed()&&2==["ids","classes"].filter(function(a){return b._is_selector_allowed(a)}).length){var c=!0;return a.each(this.$_el.parents(),function(){return"underline"==a(this).css("textDecoration")?(c=!1,!1):void 0}),!0&&c}},e.prototype._is_selector_allowed=function(b){if(czrapp)return czrapp.isSelectorAllowed(this.$_el,this.options.skipSelectors,b);var c="ids"==b?"id":"class",d=this.options.skipSelectors[b];if("object"!=typeof this.options.skipSelectors||!this.options.skipSelectors[b]||!a.isArray(this.options.skipSelectors[b])||0===this.options.skipSelectors[b].length)return!0;if(this.$_el.parents(d.map(function(a){return"id"==c?"#"+a:"."+a}).join(",")).length>0)return!1;if(!this.$_el.attr(c))return!0;var e=this.$_el.attr(c).split(" "),f=e.filter(function(b){return-1!=a.inArray(b,d)});return 0===f.length},e.prototype._is_first_child_tag_allowed=function(){if(0===this.$_el.children().length)return!0;var b=this.$_el.children().first()[0].tagName,c=this.options.skipChildTags;return a.isArray(c)?(c=c.map(function(a){return a.toUpperCase()}),-1==a.inArray(b,c)):!0},e.prototype._is_external=function(b){var c=location.host.split(".").slice(-2).join("."),d=new RegExp(c);return b=a.trim(b),""!==b&&"#"!=b&&this._isValidURL(b)?!d.test(b):void 0},e.prototype._isValidURL=function(a){var b=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return b.test(a)},a.fn[f]=function(b){return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))})}}(jQuery,window,document);